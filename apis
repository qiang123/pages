项目背景
   工具平台提供的多地域服务部署能力，需要满足二级域名动态注册，生效，删除等功能， 提供域名：80端口的访问能力，同时为了满足用户部署服务运维需要，平台上的服务访问时监控能力， 需要开发一套网关系统，实现系统高可用，高访问量支持，支持服务级的多地域高可用，并提供服务接口实现与平台部署系统的协同。

   同时为了满足工具云平台的关键基础设施的稳定运行， 需要实现部署服务的高可用，以及故障转移恢复能力。

3. 功能性需求
     整个系统由转发系统，数据采集系统，采集数据存储系统， 以及对外服务接口组成

3.1  路由功能：
  1. 路由接口管理功能
     功能描述： 提供restful接口，实现路由表项的增加，修改，删除，查询列表功能
     非功能性描述：新路由的操作不对现有路由转发产生影响，即不影响平台现有其他服务对外服务能力。
  2. 路由转发功能
      路由转发功能实现按照服务部署时的二级域名根据转发规则自动转发到云平台部署的服务地址与接口，实现用户后台部署服务的访问
      
      非功能需求：转发性能达到每秒10w／min，动态转发延时低于20ms
   
  3. 2. 数据采集
       数据采集服务接口管理功能
       功能描述：提供restful接口，实现按照路由开启或者关闭数据采集功能，同时提供提供采集数据存储地址配置功能，实现采集功能与数据
     数据抓取功能 
     功能描述： 对每个服务的每次访问，抓取访问时间，访问服务的地址，转发时延，响应时间，请求参数实现数据采集，并交由数据压缩功能处理
     数据压缩功能
           对接收到的json数据，去掉多余的空格与换行符，减少数据传输量，交与数据上报功能
     数据上报功能
           根据配置的数据采集服务地址，上报数据给配置的数据存储服务
    非功能性需求：
          数据上报功能采用异步处理机制，避免在转发过程中，引入上报耗时，从而影响转发效率

3.3 采集数据存储服务
    功能描述：接收数据采集服务上报的采集数据，保存在对应的时序数据库中，供平台的
服务运维监控使用
    
    数据接收
       使用http接收采集服务上报的采集数据  
   数据队列缓冲
       高并发访问时存在上报数据量过大而接收服务处理不过来，从而造成上报数据丢失的可能性，需要消息排队功能，完成上报数据的缓冲，并通过任务队列完成消息的后台处理
    数据格式转化为时序数据库格式
        将采集的数据，转换成时序数据库对应的存储格式
    数据保存时序数据库
        通过时序数据库客户端接口，完成数据存入时序数据库中
         
         
    
